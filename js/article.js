function vote(b){var c=b.split('_');var d=$('#'+c[1]+'-pop-'+c[2]).html();$('#'+c[1]+'-pop-'+c[2]).html('<img src="/img/load.gif" alt="Loading..."/>');$.post('/vote',{'id':b},function(a){if(a.message==''){$('#'+c[1]+'_'+c[2]).removeClass('demoted');$('#promote_'+c[1]+'_'+c[2]).removeClass('promoted');switch(a.value){case'1':$('#promote_'+c[1]+'_'+c[2]).addClass('promoted');break;case'-1':$('#'+c[1]+'_'+c[2]).addClass('demoted');break;default:break}$('#'+c[1]+'-pop-'+c[2]).fadeOut('fast',function(){$('#'+c[1]+'-pop-'+c[2]).html(a.vote_count).fadeIn('fast')})}else{$('#'+c[1]+'-pop-'+c[2]).fadeOut('fast',function(){$('#'+c[1]+'-pop-'+c[2]).html(d).fadeIn('fast')});alert(a.message)}},"json")}function report_abuse(b){var c=b.split('_');$.post('/report_abuse',{'id':b},function(a){if(a.message==''){$('#'+b).html('Reported');$('#'+b).unbind('click')}else{alert(a.message)}},"json")}function get_participants(b){var c=b.split('_');$('#part_container').css('display','block');$('#part_container').html('<img src="/img/load.gif" alt="Loading..."/>');$.get('/participants',{'sid':c[1]},function(a){$('#part_container').html(a);$('#part_holder').fadeOut("slow",function(){$(this).remove()})})}